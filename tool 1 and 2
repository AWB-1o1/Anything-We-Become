import tkinter as tk
from tkinter import messagebox

def start_timer():
    window.after(7200000, get_emotion_ranking)  # 2 hours = 7200000 milliseconds

def submit_experience():
    choice = experience_var.get()
    description = description_entry.get("1.0", tk.END).strip()
    emotion = emotion_entry.get("1.0", tk.END).strip()
    # Start 2-hour timer after submission
    start_timer()
    messagebox.showinfo("Submitted", "Feel free to come back in 2 hours.")

def get_emotion_ranking():
    ranking_window = tk.Toplevel()
    ranking_window.title("Rank Your Emotions")
    
    tk.Label(ranking_window, text="Rate your emotional state (1 to 10):").pack()
    emotional_ranking = tk.Entry(ranking_window)
    emotional_ranking.pack()
    
    def submit_ranking():
        rank = int(emotional_ranking.get())
        suggest_video(rank)
        ranking_window.destroy()
    
    tk.Button(ranking_window, text="Submit Rating", command=submit_ranking).pack()

def suggest_video(rank):
    if rank <= 3:
        video = "Relaxing Meditation Video"
        feedback = "It seems you are feeling low, take a moment to relax."
    elif rank <= 7:
        video = "Inspiring TED Talk"
        feedback = "You are doing okay. Keep going with this motivational talk!"
    else:
        video = "Celebratory Music Video"
        feedback = "Wonderful! Keep the positivity going!"
    
    messagebox.showinfo("Suggestion", f"Suggestion: {video}\nFeedback: {feedback}")

# Setting up the GUI
window = tk.Tk()
window.title("Emotional Tracker")

tk.Label(window, text="Choose your experience:").pack()

experience_var = tk.StringVar(value="achievement")
experience_menu = tk.OptionMenu(window, experience_var, "achievement", "failure")
experience_menu.pack()

tk.Label(window, text="Describe your experience:").pack()
description_entry = tk.Text(window, height=5, width=40)
description_entry.pack()

tk.Label(window, text="How do you feel about it?:").pack()
emotion_entry = tk.Text(window, height=5, width=40)
emotion_entry.pack()

submit_button = tk.Button(window, text="Submit", command=submit_experience)
submit_button.pack()

window.mainloop()
